<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>QSS Tidyverse Code</title>
  <meta name="description" content="QSS Tidyverse Code">
  <meta name="generator" content="bookdown 0.6 and GitBook 2.6.7">

  <meta property="og:title" content="QSS Tidyverse Code" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="jrnold/qss-tidy" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="QSS Tidyverse Code" />
  
  
  

<meta name="author" content="Jeffrey B. Arnold">


<meta name="date" content="2018-02-18">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="causality.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#overview-of-the-book"><i class="fa fa-check"></i><b>1.1</b> Overview of the Book</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#how-to-use-the-book"><i class="fa fa-check"></i><b>1.2</b> How to use the Book</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#introduction-to-r"><i class="fa fa-check"></i><b>1.3</b> Introduction to R</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#arithmetic-operations"><i class="fa fa-check"></i><b>1.3.1</b> Arithmetic Operations</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction.html"><a href="introduction.html#objects"><i class="fa fa-check"></i><b>1.3.2</b> Objects</a></li>
<li class="chapter" data-level="1.3.3" data-path="introduction.html"><a href="introduction.html#vectors"><i class="fa fa-check"></i><b>1.3.3</b> Vectors</a></li>
<li class="chapter" data-level="1.3.4" data-path="introduction.html"><a href="introduction.html#functions"><i class="fa fa-check"></i><b>1.3.4</b> Functions</a></li>
<li class="chapter" data-level="1.3.5" data-path="introduction.html"><a href="introduction.html#data-files"><i class="fa fa-check"></i><b>1.3.5</b> Data Files</a></li>
<li class="chapter" data-level="1.3.6" data-path="introduction.html"><a href="introduction.html#saving-objects"><i class="fa fa-check"></i><b>1.3.6</b> Saving Objects</a></li>
<li class="chapter" data-level="1.3.7" data-path="introduction.html"><a href="introduction.html#programming-and-learning-tips"><i class="fa fa-check"></i><b>1.3.7</b> Programming and Learning Tips</a></li>
<li class="chapter" data-level="1.3.8" data-path="introduction.html"><a href="introduction.html#style-guide"><i class="fa fa-check"></i><b>1.3.8</b> Style Guide</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="causality.html"><a href="causality.html"><i class="fa fa-check"></i><b>2</b> Causality</a><ul>
<li class="chapter" data-level="" data-path="causality.html"><a href="causality.html#prerequisites-1"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="2.1" data-path="causality.html"><a href="causality.html#racial-discrimination-in-the-labor-market"><i class="fa fa-check"></i><b>2.1</b> Racial Discrimination in the Labor Market</a></li>
<li class="chapter" data-level="2.2" data-path="causality.html"><a href="causality.html#subsetting-data-in-r"><i class="fa fa-check"></i><b>2.2</b> Subsetting Data in R</a><ul>
<li class="chapter" data-level="2.2.1" data-path="causality.html"><a href="causality.html#subsetting"><i class="fa fa-check"></i><b>2.2.1</b> Subsetting</a></li>
<li class="chapter" data-level="2.2.2" data-path="causality.html"><a href="causality.html#simple-conditional-statements"><i class="fa fa-check"></i><b>2.2.2</b> Simple conditional statements</a></li>
<li class="chapter" data-level="2.2.3" data-path="causality.html"><a href="causality.html#factor-variables"><i class="fa fa-check"></i><b>2.2.3</b> Factor Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="causality.html"><a href="causality.html#causal-affects-and-the-counterfactual"><i class="fa fa-check"></i><b>2.3</b> Causal Affects and the Counterfactual</a></li>
<li class="chapter" data-level="2.4" data-path="causality.html"><a href="causality.html#observational-studies"><i class="fa fa-check"></i><b>2.4</b> Observational Studies</a><ul>
<li class="chapter" data-level="2.4.1" data-path="causality.html"><a href="causality.html#confounding-bias"><i class="fa fa-check"></i><b>2.4.1</b> Confounding Bias</a></li>
<li class="chapter" data-level="2.4.2" data-path="causality.html"><a href="causality.html#before-and-after-and-difference-in-difference-designs"><i class="fa fa-check"></i><b>2.4.2</b> Before and After and Difference-in-Difference Designs</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="causality.html"><a href="causality.html#descriptive-statistics-for-a-single-variable"><i class="fa fa-check"></i><b>2.5</b> Descriptive Statistics for a Single Variable</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="measurement.html"><a href="measurement.html"><i class="fa fa-check"></i><b>3</b> Measurement</a><ul>
<li class="chapter" data-level="" data-path="measurement.html"><a href="measurement.html#prerequisites-2"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="3.1" data-path="measurement.html"><a href="measurement.html#measuring-civilian-victimization-during-wartime"><i class="fa fa-check"></i><b>3.1</b> Measuring Civilian Victimization during Wartime</a></li>
<li class="chapter" data-level="3.2" data-path="measurement.html"><a href="measurement.html#handling-missing-data-in-r"><i class="fa fa-check"></i><b>3.2</b> Handling Missing Data in R</a></li>
<li class="chapter" data-level="3.3" data-path="measurement.html"><a href="measurement.html#visualizing-the-univariate-distribution"><i class="fa fa-check"></i><b>3.3</b> Visualizing the Univariate Distribution</a><ul>
<li class="chapter" data-level="3.3.1" data-path="measurement.html"><a href="measurement.html#barplot"><i class="fa fa-check"></i><b>3.3.1</b> Barplot</a></li>
<li class="chapter" data-level="3.3.2" data-path="measurement.html"><a href="measurement.html#histogram"><i class="fa fa-check"></i><b>3.3.2</b> Histogram</a></li>
<li class="chapter" data-level="3.3.3" data-path="measurement.html"><a href="measurement.html#boxplot"><i class="fa fa-check"></i><b>3.3.3</b> Boxplot</a></li>
<li class="chapter" data-level="3.3.4" data-path="measurement.html"><a href="measurement.html#printing-and-saving-graphics"><i class="fa fa-check"></i><b>3.3.4</b> Printing and saving graphics</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="measurement.html"><a href="measurement.html#survey-sampling"><i class="fa fa-check"></i><b>3.4</b> Survey Sampling</a><ul>
<li class="chapter" data-level="3.4.1" data-path="measurement.html"><a href="measurement.html#the-role-of-randomization"><i class="fa fa-check"></i><b>3.4.1</b> The Role of Randomization</a></li>
<li class="chapter" data-level="3.4.2" data-path="measurement.html"><a href="measurement.html#non-response-and-other-sources-of-bias"><i class="fa fa-check"></i><b>3.4.2</b> Non-response and other sources of bias</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="measurement.html"><a href="measurement.html#measuring-political-polarization"><i class="fa fa-check"></i><b>3.5</b> Measuring Political Polarization</a><ul>
<li class="chapter" data-level="3.5.1" data-path="measurement.html"><a href="measurement.html#correlation"><i class="fa fa-check"></i><b>3.5.1</b> Correlation</a></li>
<li class="chapter" data-level="3.5.2" data-path="measurement.html"><a href="measurement.html#quantile-quantile-plot"><i class="fa fa-check"></i><b>3.5.2</b> Quantile-Quantile Plot</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="measurement.html"><a href="measurement.html#clustering"><i class="fa fa-check"></i><b>3.6</b> Clustering</a><ul>
<li class="chapter" data-level="3.6.1" data-path="measurement.html"><a href="measurement.html#matrices"><i class="fa fa-check"></i><b>3.6.1</b> Matrices</a></li>
<li class="chapter" data-level="3.6.2" data-path="measurement.html"><a href="measurement.html#lists"><i class="fa fa-check"></i><b>3.6.2</b> Lists</a></li>
<li class="chapter" data-level="3.6.3" data-path="measurement.html"><a href="measurement.html#k-means-algorithms"><i class="fa fa-check"></i><b>3.6.3</b> k-means algorithms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prediction.html"><a href="prediction.html"><i class="fa fa-check"></i><b>4</b> Prediction</a><ul>
<li class="chapter" data-level="" data-path="prediction.html"><a href="prediction.html#prerequisites-3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="4.1" data-path="prediction.html"><a href="prediction.html#predicting-election-outcomes"><i class="fa fa-check"></i><b>4.1</b> Predicting Election Outcomes</a><ul>
<li class="chapter" data-level="4.1.1" data-path="prediction.html"><a href="prediction.html#loops-in-r"><i class="fa fa-check"></i><b>4.1.1</b> Loops in R</a></li>
<li class="chapter" data-level="4.1.2" data-path="prediction.html"><a href="prediction.html#general-conditional-statements-in-r"><i class="fa fa-check"></i><b>4.1.2</b> General Conditional Statements in R</a></li>
<li class="chapter" data-level="4.1.3" data-path="prediction.html"><a href="prediction.html#poll-predictions"><i class="fa fa-check"></i><b>4.1.3</b> Poll Predictions</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="prediction.html"><a href="prediction.html#linear-regression"><i class="fa fa-check"></i><b>4.2</b> Linear Regression</a><ul>
<li class="chapter" data-level="4.2.1" data-path="prediction.html"><a href="prediction.html#facial-appearance-and-election-outcomes"><i class="fa fa-check"></i><b>4.2.1</b> Facial Appearance and Election Outcomes</a></li>
<li class="chapter" data-level="4.2.2" data-path="prediction.html"><a href="prediction.html#correlation-and-scatter-plots"><i class="fa fa-check"></i><b>4.2.2</b> Correlation and Scatter Plots</a></li>
<li class="chapter" data-level="4.2.3" data-path="prediction.html"><a href="prediction.html#least-squares"><i class="fa fa-check"></i><b>4.2.3</b> Least Squares</a></li>
<li class="chapter" data-level="4.2.4" data-path="prediction.html"><a href="prediction.html#regression-towards-the-mean"><i class="fa fa-check"></i><b>4.2.4</b> Regression towards the mean</a></li>
<li class="chapter" data-level="4.2.5" data-path="prediction.html"><a href="prediction.html#merging-data-sets-in-r"><i class="fa fa-check"></i><b>4.2.5</b> Merging Data Sets in R</a></li>
<li class="chapter" data-level="4.2.6" data-path="prediction.html"><a href="prediction.html#model-fit"><i class="fa fa-check"></i><b>4.2.6</b> Model Fit</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="prediction.html"><a href="prediction.html#regression-and-causation"><i class="fa fa-check"></i><b>4.3</b> Regression and Causation</a><ul>
<li class="chapter" data-level="4.3.1" data-path="prediction.html"><a href="prediction.html#randomized-experiments"><i class="fa fa-check"></i><b>4.3.1</b> Randomized Experiments</a></li>
<li class="chapter" data-level="4.3.2" data-path="prediction.html"><a href="prediction.html#regression-with-multiple-predictors"><i class="fa fa-check"></i><b>4.3.2</b> Regression with multiple predictors</a></li>
<li class="chapter" data-level="4.3.3" data-path="prediction.html"><a href="prediction.html#heterogeneous-treatment-effects"><i class="fa fa-check"></i><b>4.3.3</b> Heterogeneous Treatment Effects</a></li>
<li class="chapter" data-level="4.3.4" data-path="prediction.html"><a href="prediction.html#regression-discontinuity-design"><i class="fa fa-check"></i><b>4.3.4</b> Regression Discontinuity Design</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="discovery.html"><a href="discovery.html"><i class="fa fa-check"></i><b>5</b> Discovery</a><ul>
<li class="chapter" data-level="5.1" data-path="discovery.html"><a href="discovery.html#textual-data"><i class="fa fa-check"></i><b>5.1</b> Textual data</a><ul>
<li class="chapter" data-level="" data-path="discovery.html"><a href="discovery.html#prerequisites-4"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.1.1" data-path="discovery.html"><a href="discovery.html#document-term-matrix"><i class="fa fa-check"></i><b>5.1.1</b> Document-Term Matrix</a></li>
<li class="chapter" data-level="5.1.2" data-path="discovery.html"><a href="discovery.html#topic-discovery"><i class="fa fa-check"></i><b>5.1.2</b> Topic Discovery</a></li>
<li class="chapter" data-level="5.1.3" data-path="discovery.html"><a href="discovery.html#authorship-prediction"><i class="fa fa-check"></i><b>5.1.3</b> Authorship Prediction</a></li>
<li class="chapter" data-level="5.1.4" data-path="discovery.html"><a href="discovery.html#cross-validation"><i class="fa fa-check"></i><b>5.1.4</b> Cross-Validation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="discovery.html"><a href="discovery.html#network-data"><i class="fa fa-check"></i><b>5.2</b> Network data</a><ul>
<li class="chapter" data-level="" data-path="discovery.html"><a href="discovery.html#prerequisites-5"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.2.1" data-path="discovery.html"><a href="discovery.html#twitter-following-network"><i class="fa fa-check"></i><b>5.2.1</b> Twitter Following Network</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="discovery.html"><a href="discovery.html#spatial-data"><i class="fa fa-check"></i><b>5.3</b> Spatial Data</a><ul>
<li class="chapter" data-level="" data-path="discovery.html"><a href="discovery.html#prerequisites-6"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="5.3.1" data-path="discovery.html"><a href="discovery.html#spatial-data-in-r"><i class="fa fa-check"></i><b>5.3.1</b> Spatial Data in R</a></li>
<li class="chapter" data-level="5.3.2" data-path="discovery.html"><a href="discovery.html#colors-in-r"><i class="fa fa-check"></i><b>5.3.2</b> Colors in R</a></li>
<li class="chapter" data-level="5.3.3" data-path="discovery.html"><a href="discovery.html#united-states-presidential-elections"><i class="fa fa-check"></i><b>5.3.3</b> United States Presidential Elections</a></li>
<li class="chapter" data-level="5.3.4" data-path="discovery.html"><a href="discovery.html#expansion-of-walmart"><i class="fa fa-check"></i><b>5.3.4</b> Expansion of Walmart</a></li>
<li class="chapter" data-level="5.3.5" data-path="discovery.html"><a href="discovery.html#animation-in-r"><i class="fa fa-check"></i><b>5.3.5</b> Animation in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>6</b> Probability</a><ul>
<li class="chapter" data-level="" data-path="probability.html"><a href="probability.html#prerequisites-7"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="6.1" data-path="probability.html"><a href="probability.html#probability-1"><i class="fa fa-check"></i><b>6.1</b> Probability</a><ul>
<li class="chapter" data-level="6.1.1" data-path="probability.html"><a href="probability.html#frequentist-vs.bayesian"><i class="fa fa-check"></i><b>6.1.1</b> Frequentist vs. Bayesian</a></li>
<li class="chapter" data-level="6.1.2" data-path="probability.html"><a href="probability.html#definition-and-axioms"><i class="fa fa-check"></i><b>6.1.2</b> Definition and Axioms</a></li>
<li class="chapter" data-level="6.1.3" data-path="probability.html"><a href="probability.html#permutations"><i class="fa fa-check"></i><b>6.1.3</b> Permutations</a></li>
<li class="chapter" data-level="6.1.4" data-path="probability.html"><a href="probability.html#sampling-without-replacement"><i class="fa fa-check"></i><b>6.1.4</b> Sampling without replacement</a></li>
<li class="chapter" data-level="6.1.5" data-path="probability.html"><a href="probability.html#combinations"><i class="fa fa-check"></i><b>6.1.5</b> Combinations</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="probability.html"><a href="probability.html#conditional-probability"><i class="fa fa-check"></i><b>6.2</b> Conditional Probability</a><ul>
<li class="chapter" data-level="6.2.1" data-path="probability.html"><a href="probability.html#conditional-marginal-and-joint-probabilities"><i class="fa fa-check"></i><b>6.2.1</b> Conditional, Marginal, and Joint Probabilities</a></li>
<li class="chapter" data-level="6.2.2" data-path="probability.html"><a href="probability.html#independence"><i class="fa fa-check"></i><b>6.2.2</b> Independence</a></li>
<li class="chapter" data-level="6.2.3" data-path="probability.html"><a href="probability.html#bayes-rule"><i class="fa fa-check"></i><b>6.2.3</b> Bayes’ Rule</a></li>
<li class="chapter" data-level="6.2.4" data-path="probability.html"><a href="probability.html#predicting-race-using-surname-and-residence-location"><i class="fa fa-check"></i><b>6.2.4</b> Predicting Race Using Surname and Residence Location</a></li>
<li class="chapter" data-level="6.2.5" data-path="probability.html"><a href="probability.html#predicting-election-outcomes-with-uncertainty"><i class="fa fa-check"></i><b>6.2.5</b> Predicting Election Outcomes with Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="probability.html"><a href="probability.html#random-variables-and-probability-distributions"><i class="fa fa-check"></i><b>6.3</b> Random Variables and Probability Distributions</a><ul>
<li class="chapter" data-level="6.3.1" data-path="probability.html"><a href="probability.html#bernoulli-and-uniform-distributions"><i class="fa fa-check"></i><b>6.3.1</b> Bernoulli and Uniform Distributions</a></li>
<li class="chapter" data-level="6.3.2" data-path="probability.html"><a href="probability.html#binomial-distribution"><i class="fa fa-check"></i><b>6.3.2</b> Binomial distribution</a></li>
<li class="chapter" data-level="6.3.3" data-path="probability.html"><a href="probability.html#normal-distribution"><i class="fa fa-check"></i><b>6.3.3</b> Normal distribution</a></li>
<li class="chapter" data-level="6.3.4" data-path="probability.html"><a href="probability.html#expectation-and-variance"><i class="fa fa-check"></i><b>6.3.4</b> Expectation and Variance</a></li>
<li class="chapter" data-level="6.3.5" data-path="probability.html"><a href="probability.html#predicting-election-outcomes-with-uncertainty-1"><i class="fa fa-check"></i><b>6.3.5</b> Predicting Election Outcomes with Uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="probability.html"><a href="probability.html#large-sample-theorems"><i class="fa fa-check"></i><b>6.4</b> Large Sample Theorems</a><ul>
<li class="chapter" data-level="6.4.1" data-path="probability.html"><a href="probability.html#law-of-large-numbers"><i class="fa fa-check"></i><b>6.4.1</b> Law of Large Numbers</a></li>
<li class="chapter" data-level="6.4.2" data-path="probability.html"><a href="probability.html#central-limit-theorem"><i class="fa fa-check"></i><b>6.4.2</b> Central Limit Theorem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>7</b> Uncertainty</a><ul>
<li class="chapter" data-level="" data-path="uncertainty.html"><a href="uncertainty.html#prerequisites-8"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="7.1" data-path="uncertainty.html"><a href="uncertainty.html#estimation"><i class="fa fa-check"></i><b>7.1</b> Estimation</a><ul>
<li class="chapter" data-level="7.1.1" data-path="uncertainty.html"><a href="uncertainty.html#unbiasedness-and-consistency"><i class="fa fa-check"></i><b>7.1.1</b> Unbiasedness and Consistency</a></li>
<li class="chapter" data-level="7.1.2" data-path="uncertainty.html"><a href="uncertainty.html#standard-error"><i class="fa fa-check"></i><b>7.1.2</b> Standard Error</a></li>
<li class="chapter" data-level="7.1.3" data-path="uncertainty.html"><a href="uncertainty.html#confidence-intervals"><i class="fa fa-check"></i><b>7.1.3</b> Confidence Intervals</a></li>
<li class="chapter" data-level="7.1.4" data-path="uncertainty.html"><a href="uncertainty.html#margin-of-error-and-sample-size-calculation-in-polls"><i class="fa fa-check"></i><b>7.1.4</b> Margin of Error and Sample Size Calculation in Polls</a></li>
<li class="chapter" data-level="7.1.5" data-path="uncertainty.html"><a href="uncertainty.html#analysis-of-randomized-controlled-trials"><i class="fa fa-check"></i><b>7.1.5</b> Analysis of Randomized Controlled Trials</a></li>
<li class="chapter" data-level="7.1.6" data-path="uncertainty.html"><a href="uncertainty.html#analysis-based-on-students-t-distribution"><i class="fa fa-check"></i><b>7.1.6</b> Analysis Based on Student’s t-Distribution</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="uncertainty.html"><a href="uncertainty.html#hypothesis-testing"><i class="fa fa-check"></i><b>7.2</b> Hypothesis Testing</a><ul>
<li class="chapter" data-level="7.2.1" data-path="uncertainty.html"><a href="uncertainty.html#tea-testing-experiment"><i class="fa fa-check"></i><b>7.2.1</b> Tea-Testing Experiment</a></li>
<li class="chapter" data-level="7.2.2" data-path="uncertainty.html"><a href="uncertainty.html#the-general-framework"><i class="fa fa-check"></i><b>7.2.2</b> The General Framework</a></li>
<li class="chapter" data-level="7.2.3" data-path="uncertainty.html"><a href="uncertainty.html#one-sample-tests"><i class="fa fa-check"></i><b>7.2.3</b> One-Sample Tests</a></li>
<li class="chapter" data-level="7.2.4" data-path="uncertainty.html"><a href="uncertainty.html#two-sample-tests"><i class="fa fa-check"></i><b>7.2.4</b> Two-sample tests</a></li>
<li class="chapter" data-level="7.2.5" data-path="uncertainty.html"><a href="uncertainty.html#power-analysis"><i class="fa fa-check"></i><b>7.2.5</b> Power Analysis</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="uncertainty.html"><a href="uncertainty.html#linear-regression-model-with-uncertainty"><i class="fa fa-check"></i><b>7.3</b> Linear Regression Model with Uncertainty</a><ul>
<li class="chapter" data-level="7.3.1" data-path="uncertainty.html"><a href="uncertainty.html#linear-regression-as-a-generative-model"><i class="fa fa-check"></i><b>7.3.1</b> Linear Regression as a Generative Model</a></li>
<li class="chapter" data-level="7.3.2" data-path="uncertainty.html"><a href="uncertainty.html#inference-about-coefficients"><i class="fa fa-check"></i><b>7.3.2</b> Inference about coefficients</a></li>
<li class="chapter" data-level="7.3.3" data-path="uncertainty.html"><a href="uncertainty.html#inference-about-predictions"><i class="fa fa-check"></i><b>7.3.3</b> Inference about predictions</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">QSS Tidyverse Code</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<div id="prerequisites" class="section level2 unnumbered">
<h2>Prerequisites</h2>
<p>In this and other chapters we will make use of data from the <code>qss</code> package, which is available on github. Install it using the <code>install_github()</code> function from the library <code>devtools</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;kosukeimai/qss-package&quot;</span>)
<span class="co">#&gt; Using GitHub PAT from envvar GITHUB_PAT</span>
<span class="co">#&gt; Skipping install of &#39;qss&#39; from a github remote, the SHA1 (898fffb4) has not changed since last install.</span>
<span class="co">#&gt;   Use `force = TRUE` to force installation</span>
<span class="kw">library</span>(<span class="st">&quot;qss&quot;</span>)</code></pre></div>
<p>In the prerequisites section of each chapter, we’ll load any packages needed for the chapter, and possibly define some functions or load data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</code></pre></div>
<p>We also load the <strong>readr</strong> package to load <code>csv</code> files,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;readr&quot;</span>)</code></pre></div>
<p>the <strong>haven</strong> package to load Stata <code>dta</code> files,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;haven&quot;</span>)</code></pre></div>
<p>and the <strong>rio</strong> package to load multiple types of files.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;rio&quot;</span>)</code></pre></div>
</div>
<div id="overview-of-the-book" class="section level2">
<h2><span class="header-section-number">1.1</span> Overview of the Book</h2>
<!-- define all sections so that numbering matches that of the book -->
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
</div>
<div id="how-to-use-the-book" class="section level2">
<h2><span class="header-section-number">1.2</span> How to use the Book</h2>
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
</div>
<div id="introduction-to-r" class="section level2">
<h2><span class="header-section-number">1.3</span> Introduction to R</h2>
<p>These notes do not aim to completely teach R and the tidyverse. However, there are many other resources for that.</p>
<p><a href="http://r4ds.had.co.nz/">R for Data Science</a> is a comprehensive introduction to R using the tidyverse.</p>
<p><a href="https://www.datacamp.com/home">Data Camp</a> has interactive courses. In particular, I recommend starting with the following two courses.</p>
<ul>
<li><a href="https://www.datacamp.com/courses/free-introduction-to-r">Introduction to R</a></li>
<li><a href="https://www.datacamp.com/courses/introduction-to-the-tidyverse">Introduction to the Tidyverse</a></li>
</ul>
<div id="arithmetic-operations" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Arithmetic Operations</h3>
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
</div>
<div id="objects" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Objects</h3>
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
<p>Also see <a href="http://r4ds.had.co.nz/workflow-basics.html">R4DS: Workflow basics</a>.</p>
</div>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">1.3.3</span> Vectors</h3>
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
<p>Also see <a href="http://r4ds.had.co.nz/vectors.html">R4DS: Vectors</a>. In <em>R for Data Science</em> vectors are introduced much later, after data frames.</p>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">1.3.4</span> Functions</h3>
<p><em>This sections contains no code to translate – see</em>QSS* text.*</p>
<p>Also see <a href="http://r4ds.had.co.nz/functions.html">R4DS: Functions</a>.</p>
</div>
<div id="data-files" class="section level3">
<h3><span class="header-section-number">1.3.5</span> Data Files</h3>
<p>Rather than using <code>setwd()</code> in scripts, data analysis should be organized in projects. Read the introduction on RStudio projects in <a href="http://r4ds.had.co.nz/workflow-projects.html">R4DS</a>.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<p>Datasets used in R are accessed in two ways.</p>
<ul>
<li>Datasets can be distributed with R packages. These are often smaller datasets used in examples and tutorials in packages. These are loaded with the <code>data()</code> function. For example you can load UN data on demographic statistics from the <strong>qss</strong> library, which distributes the data sets used in the <em>QSS</em> textbook. (The function <code>data()</code> called without any arguments will list all the datasets distributed with installed packages.)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">&quot;UNpop&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;qss&quot;</span>)</code></pre></div>
<ul>
<li>Datasets can be loaded from external files including both stored R objects (<code>.RData</code>, <code>.rda</code>) and other formats (<code>.csv</code>, <code>.dta</code>, <code>.sav</code>). To read a <a href="https://en.wikipedia.org/wiki/Comma-separated_values">csv</a> file into R use the <code>read_csv</code> function from the <strong>readr</strong> library, part of the tidyverse.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop_URL &lt;-<span class="st"> &quot;https://raw.githubusercontent.com/kosukeimai/qss/master/INTRO/UNpop.csv&quot;</span>
UNpop &lt;-<span class="st"> </span><span class="kw">read_csv</span>(UNpop_URL)
<span class="co">#&gt; Parsed with column specification:</span>
<span class="co">#&gt; cols(</span>
<span class="co">#&gt;   year = col_integer(),</span>
<span class="co">#&gt;   world.pop = col_integer()</span>
<span class="co">#&gt; )</span></code></pre></div>
<p>We use the readr function<code>read_csv()</code> instead of the base R function <code>read.csv()</code> used in the <em>QSS</em> text. It is slightly faster, and returns a <code>tibble</code> instead of a data frame. Check this by calling <code>class()</code> on the new object.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(UNpop)
<span class="co">#&gt; [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</span>
UNpop
<span class="co">#&gt; # A tibble: 7 x 2</span>
<span class="co">#&gt;    year world.pop</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1  1950   2525779</span>
<span class="co">#&gt; 2  1960   3026003</span>
<span class="co">#&gt; 3  1970   3691173</span>
<span class="co">#&gt; 4  1980   4449049</span>
<span class="co">#&gt; 5  1990   5320817</span>
<span class="co">#&gt; 6  2000   6127700</span>
<span class="co">#&gt; # ... with 1 more row</span></code></pre></div>
<p>See <a href="http://r4ds.had.co.nz/">R for Data Science</a> <a href="http://r4ds.had.co.nz/tibbles.html#introduction-4">Ch 11: Data Import</a> for more discussion.</p>
<p>Note that in the previous code we loaded the file directly from a URL, but we could also work with local files on your computer, e.g.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;INTRO/UNpop.csv&quot;</span>)</code></pre></div>
<p>See <a href="http://r4ds.had.co.nz/">R for Data Science</a> <a href="http://r4ds.had.co.nz/tibbles.html">Ch 10: Tibbles</a> for a deeper discussion of data frames.</p>
<p>The single bracket, <code>[</code>, is useful to select rows and columns in simple cases.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), ]
<span class="co">#&gt; # A tibble: 3 x 2</span>
<span class="co">#&gt;    year world.pop</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1  1950   2525779</span>
<span class="co">#&gt; 2  1960   3026003</span>
<span class="co">#&gt; 3  1970   3691173</span></code></pre></div>
<p>There are <strong>dplyr</strong> functions to select rows by number, to select rows by certain criteria, or to select columns.</p>
<p>To select rows 1–3, use <code>slice()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">slice</span>(UNpop, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)
<span class="co">#&gt; # A tibble: 3 x 2</span>
<span class="co">#&gt;    year world.pop</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1  1950   2525779</span>
<span class="co">#&gt; 2  1960   3026003</span>
<span class="co">#&gt; 3  1970   3691173</span></code></pre></div>
<p>Base R allows you to choose the column <code>world.pop</code> column from the <code>UNpop</code> data frame:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop[, <span class="st">&quot;world.pop&quot;</span>]
<span class="co">#&gt; # A tibble: 7 x 1</span>
<span class="co">#&gt;   world.pop</span>
<span class="co">#&gt;       &lt;int&gt;</span>
<span class="co">#&gt; 1   2525779</span>
<span class="co">#&gt; 2   3026003</span>
<span class="co">#&gt; 3   3691173</span>
<span class="co">#&gt; 4   4449049</span>
<span class="co">#&gt; 5   5320817</span>
<span class="co">#&gt; 6   6127700</span>
<span class="co">#&gt; # ... with 1 more row</span>
UNpop<span class="op">$</span>world.pop
<span class="co">#&gt; [1] 2525779 3026003 3691173 4449049 5320817 6127700 6916183</span>
UNpop[[<span class="st">&quot;world.pop&quot;</span>]]
<span class="co">#&gt; [1] 2525779 3026003 3691173 4449049 5320817 6127700 6916183</span>
<span class="kw">select</span>(UNpop, world.pop)
<span class="co">#&gt; # A tibble: 7 x 1</span>
<span class="co">#&gt;   world.pop</span>
<span class="co">#&gt;       &lt;int&gt;</span>
<span class="co">#&gt; 1   2525779</span>
<span class="co">#&gt; 2   3026003</span>
<span class="co">#&gt; 3   3691173</span>
<span class="co">#&gt; 4   4449049</span>
<span class="co">#&gt; 5   5320817</span>
<span class="co">#&gt; 6   6127700</span>
<span class="co">#&gt; # ... with 1 more row</span></code></pre></div>
<p>Unlike <code>[</code>, the <code>[[</code> and <code>$</code> operators can only select a single column and return a vector.<a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> The <code>dplyr</code> function <code>select()</code> <strong>always</strong> returns a tibble (data frame), and never a vector, even if only one column is selected.</p>
<p>Select rows 1–3 of the <code>year</code> column:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="st">&quot;year&quot;</span>]
<span class="co">#&gt; # A tibble: 3 x 1</span>
<span class="co">#&gt;    year</span>
<span class="co">#&gt;   &lt;int&gt;</span>
<span class="co">#&gt; 1  1950</span>
<span class="co">#&gt; 2  1960</span>
<span class="co">#&gt; 3  1970</span></code></pre></div>
<p>or,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">select</span>(<span class="kw">slice</span>(UNpop, <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>), year)
<span class="co">#&gt; # A tibble: 3 x 1</span>
<span class="co">#&gt;    year</span>
<span class="co">#&gt;   &lt;int&gt;</span>
<span class="co">#&gt; 1  1950</span>
<span class="co">#&gt; 2  1960</span>
<span class="co">#&gt; 3  1970</span></code></pre></div>
<p>The same series of functions can be performed using the pipe operator, <code>%&gt;%</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(year)
<span class="co">#&gt; # A tibble: 3 x 1</span>
<span class="co">#&gt;    year</span>
<span class="co">#&gt;   &lt;int&gt;</span>
<span class="co">#&gt; 1  1950</span>
<span class="co">#&gt; 2  1960</span>
<span class="co">#&gt; 3  1970</span></code></pre></div>
<p>This example may seem verbose, but later we can produce more complicated transformations of the data by chaining together simple functions.</p>
<p>Select every other row from <code>UNpop</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop<span class="op">$</span>world.pop[<span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="kw">nrow</span>(UNpop), <span class="dt">by =</span> <span class="dv">2</span>)]
<span class="co">#&gt; [1] 2525779 3691173 5320817 6916183</span></code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">slice</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="kw">n</span>(), <span class="dt">by =</span> <span class="dv">2</span>)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(world.pop)
<span class="co">#&gt; # A tibble: 4 x 1</span>
<span class="co">#&gt;   world.pop</span>
<span class="co">#&gt;       &lt;int&gt;</span>
<span class="co">#&gt; 1   2525779</span>
<span class="co">#&gt; 2   3691173</span>
<span class="co">#&gt; 3   5320817</span>
<span class="co">#&gt; 4   6916183</span></code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(<span class="kw">row_number</span>() <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)
<span class="co">#&gt; # A tibble: 4 x 2</span>
<span class="co">#&gt;    year world.pop</span>
<span class="co">#&gt;   &lt;int&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1  1950   2525779</span>
<span class="co">#&gt; 2  1970   3691173</span>
<span class="co">#&gt; 3  1990   5320817</span>
<span class="co">#&gt; 4  2010   6916183</span></code></pre></div>
<p>The function <code>n()</code> when used in a <strong>dplyr</strong> function returns the number of rows in the data frame (or the number of rows in the group if used with <code>group_by()</code>). The function <code>row_number()</code> returns the row number of an observation. The <code>%%</code> operator returns the modulus, i.e. division remainder.</p>
</div>
<div id="saving-objects" class="section level3">
<h3><span class="header-section-number">1.3.6</span> Saving Objects</h3>
<p>It is not recommended that you save the entire R workspace using <code>save.image</code> due to the negative and unexpected impacts it can have on reproducibility.See the <a href="http://r4ds.had.co.nz/">R for Data Science</a> chapter <a href="http://r4ds.had.co.nz/workflow-projects.html">Workflow Projects</a>.</p>
<p>You should uncheck the options in RStudio to avoid saving and restoring from <code>.RData</code> files (go to <code>Tools &gt; Global Options &gt; General</code>). This will help ensure that your R code runs the way you think it does, instead of depending on some long forgotten code that is only saved in the workspace image. Everything important should be in a script. Anything saved or loaded from file should be done explicitly.</p>
<p>Your motto should be that the <strong>source is real</strong>, not the objects created by it.</p>
<blockquote>
<p>The source code is real. The objects are realizations of the source code. Source for EVERY user modified object is placed in a particular directory or directories, for later editing and retrieval. – from the <a href="https://ess.r-project.org/Manual/ess.html#Philosophies-for-using-ESS_0028S_0029">ESS manual</a></p>
</blockquote>
<p>This means that while you should not save the entire workplace it is perfectly fine practice to run a script and save or load R objects to files, using or .</p>
<p>As with reading CSV files, use the <a href="http://readr.tidyverse.org/">readr</a> package functions. In this case, <code>write_csv()</code> writes a csv file and takes at least two objects: the data that you want to write to a csv and the name that you want to give the file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_csv</span>(UNpop, <span class="st">&quot;UNpop.csv&quot;</span>)</code></pre></div>
</div>
<div id="programming-and-learning-tips" class="section level3">
<h3><span class="header-section-number">1.3.7</span> Programming and Learning Tips</h3>
<p>Use the <a href="http://haven.tidyverse.org/">haven</a> package to read and write Stata (<code>.dta</code>) and SPSS (<code>.sav</code>) files. Stata and SPSS are two other statistical programs commonly used in social science. Even if you don’t ever use them, you’ll almost certainly encounter data stored in their native formats.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">UNpop_dta_url &lt;-<span class="st"> &quot;https://github.com/kosukeimai/qss/raw/master/INTRO/UNpop.dta&quot;</span>
UNpop &lt;-<span class="st"> </span><span class="kw">read_dta</span>(UNpop_dta_url)
UNpop
<span class="co">#&gt; # A tibble: 7 x 2</span>
<span class="co">#&gt;    year world_pop</span>
<span class="co">#&gt;   &lt;dbl&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt; 1  1950      2526</span>
<span class="co">#&gt; 2  1960      3026</span>
<span class="co">#&gt; 3  1970      3691</span>
<span class="co">#&gt; 4  1980      4449</span>
<span class="co">#&gt; 5  1990      5321</span>
<span class="co">#&gt; 6  2000      6128</span>
<span class="co">#&gt; # ... with 1 more row</span></code></pre></div>
<p>There is also the equivalent <code>write_dta()</code> function to create Stata datasets.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_dta</span>(UNpop, <span class="st">&quot;UNpop.dta&quot;</span>)</code></pre></div>
<p>While Stata and SPSS data sets are quite similar to data frames, they differ slightly in definitions of acceptable data types of columns and what metadata they store with the data. +Be careful when reading and writing from these formats to ensure that information is not lost.</p>
<p>Also see the <a href="https://cran.r-project.org/package=rio">rio</a> package which makes loading data even easier with smart defaults.</p>
<p>You can use the <code>import()</code> function to load many types of files:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">import</span>(<span class="st">&quot;https://github.com/kosukeimai/qss/raw/master/INTRO/UNpop.csv&quot;</span>)
<span class="co">#&gt;   year world.pop</span>
<span class="co">#&gt; 1 1950   2525779</span>
<span class="co">#&gt; 2 1960   3026003</span>
<span class="co">#&gt; 3 1970   3691173</span>
<span class="co">#&gt; 4 1980   4449049</span>
<span class="co">#&gt; 5 1990   5320817</span>
<span class="co">#&gt; 6 2000   6127700</span>
<span class="co">#&gt; 7 2010   6916183</span>

<span class="kw">import</span>(<span class="st">&quot;https://github.com/kosukeimai/qss/raw/master/INTRO/UNpop.RData&quot;</span>)
<span class="co">#&gt;   year world.pop</span>
<span class="co">#&gt; 1 1950   2525779</span>
<span class="co">#&gt; 2 1960   3026003</span>
<span class="co">#&gt; 3 1970   3691173</span>
<span class="co">#&gt; 4 1980   4449049</span>
<span class="co">#&gt; 5 1990   5320817</span>
<span class="co">#&gt; 6 2000   6127700</span>
<span class="co">#&gt; 7 2010   6916183</span>

<span class="kw">import</span>(<span class="st">&quot;https://github.com/kosukeimai/qss/raw/master/INTRO/UNpop.dta&quot;</span>)
<span class="co">#&gt;   year world_pop</span>
<span class="co">#&gt; 1 1950      2526</span>
<span class="co">#&gt; 2 1960      3026</span>
<span class="co">#&gt; 3 1970      3691</span>
<span class="co">#&gt; 4 1980      4449</span>
<span class="co">#&gt; 5 1990      5321</span>
<span class="co">#&gt; 6 2000      6128</span>
<span class="co">#&gt; 7 2010      6916</span></code></pre></div>
<p>R also includes the <strong>foreign</strong> package, which contains functions for reading and writing files using <strong>haven</strong>. One reason to use these packages is that they are better maintained. For example, the R function <code>read.dta()</code> does not read files created by the most recent versions of Stata (13+), whereas <strong>haven</strong> does.</p>
</div>
<div id="style-guide" class="section level3">
<h3><span class="header-section-number">1.3.8</span> Style Guide</h3>
<p>Following a consistent coding style is important for your code to be readable by you and others. The preferred style is the <a href="http://style.tidyverse.org/">tidyverse style guide</a>, which differs slightly from <a href="http://style.tidyverse.org/">Google’s R style guide</a>.</p>
<ul>
<li>The <a href="https://cran.r-project.org/package=lintr">lintr</a> package will check files for style errors.</li>
<li>The <a href="https://cran.r-project.org/package=styler">styler</a> package provides functions for automatically formatting R code according to style guides.</li>
<li>In RStudio, go to the <code>Tools &gt; Global Options &gt; Code &gt; Diagnostics</code> pane and check the box to activate style warnings. On this pane, there are other options that can be set in order to increase or decrease the amount of warnings while writing R code in RStudio.</li>
</ul>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>For more on using projects read <a href="https://www.tidyverse.org/articles/2017/12/workflow-vs-script/">Project-oriented workflow</a>.<a href="introduction.html#fnref1">↩</a></p></li>
<li id="fn2"><p>See the discussion in <a href="http://r4ds.had.co.nz/tibbles.html#tibbles-vs.data.frame">R for Data Science</a> on how <code>tibble</code> objects differ from base <code>data.frame</code> objects in how <code>[</code> is handled.<a href="introduction.html#fnref2">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="causality.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/qss-tidy/edit/master/introduction.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
